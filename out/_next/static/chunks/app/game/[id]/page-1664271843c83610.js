(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{6288:function(e,t,r){Promise.resolve().then(r.bind(r,5678))},9376:function(e,t,r){"use strict";var o=r(5475);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},5678:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var o=r(7437),n=r(2265),a=r(9376),s=r(5864);function c(e){let{id:t}=e,[r,c]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null),[d,g]=(0,n.useState)(null),m=(0,a.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("user_id");if(!e){m.push("/auth/login");return}g(e),(async()=>{try{let e=await (0,s.tq)(t);c(e)}catch(e){h("Hubo un problema al cargar los detalles del juego.")}finally{l(!1)}})()},[t,m]);let f=async e=>{try{await (0,s.F)(d,e);let t=r.achievements.map(t=>t.id===e?{...t,userAchievements:[{id:{userId:Number(d),achievementId:e}}]}:t);c({...r,achievements:t})}catch(e){console.error("Error al asignar el logro:",e)}};return i?(0,o.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Cargando logros..."}):u?(0,o.jsx)("div",{className:"flex justify-center items-center min-h-screen text-red-500",children:u}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("h1",{className:"text-3xl font-bold mb-6 text-center",children:[null==r?void 0:r.name," - Logros"]}),(null==r?void 0:r.achievements)&&r.achievements.length>0?(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.achievements.map(e=>{let t=e.userAchievements.some(e=>e.id.userId===Number(d));return(0,o.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-4 ".concat(t?"bg-green-100":""),children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-black",children:e.name}),(0,o.jsxs)("p",{className:"text-gray-700",children:["Rareza: ",e.rarity]}),t?(0,o.jsx)("p",{className:"text-green-600 font-semibold",children:"Logro obtenido"}):(0,o.jsx)("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>f(e.id),children:"Obtener Logro"})]},e.id)})}):(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No hay logros disponibles para este juego."})]})}},5864:function(e,t,r){"use strict";r.d(t,{C$:function(){return u},F:function(){return i},FQ:function(){return l},So:function(){return a},a$:function(){return n},kT:function(){return s},tq:function(){return c}});let o="http://balacner-1065788816.us-east-1.elb.amazonaws.com:8000",n=async e=>{try{let t=await fetch("".concat(o,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error al registrar el usuario");return await t.json()}catch(e){throw console.error(e),e}},a=async e=>{try{let t=await fetch("".concat(o,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error en la autenticaci\xf3n");return await t.json()}catch(e){throw console.error(e),e}},s=async()=>{try{let e=await fetch("".concat(o,"/games")),t=await e.json();if(!e.ok)throw Error("Error al obtener los juegos");return t.games}catch(e){throw console.error(e),e}},c=async e=>{try{let t=await fetch("".concat(o,"/games/").concat(e)),r=await t.json();if(!t.ok)throw Error("Error al obtener los detalles del juego");return r.games}catch(e){throw console.error(e),e}},i=async(e,t)=>{try{let r=await fetch("".concat(o,"/assign"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,achievementId:t})});if(!r.ok)throw Error("Error al asignar el logro");return await r.json()}catch(e){throw console.error(e),e}},l=async e=>{try{let t=await fetch("".concat(o,"/user/").concat(e)),r=await t.json();if(!t.ok||!r.success)throw Error("Error al obtener los datos del usuario");return r}catch(e){throw console.error(e),e}},u=async e=>{try{let t=await fetch("".concat(o,"/game/").concat(e)),r=await t.json();if(!t.ok)throw Error("Error al obtener los detalles del juego");return r}catch(e){throw console.error(e),e}}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6288)}),_N_E=e.O()}]);