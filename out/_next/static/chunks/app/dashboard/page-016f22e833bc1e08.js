(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6461:function(e,t,r){Promise.resolve().then(r.bind(r,8580))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8580:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(7437),s=r(2265),n=r(9376),o=r(5864);function c(){let[e,t]=(0,s.useState)(null),[r,c]=(0,s.useState)(!0),[l,i]=(0,s.useState)(null),u=(0,n.useRouter)();if((0,s.useEffect)(()=>{let e=localStorage.getItem("user_id");if(!e){u.push("/auth/login");return}(async()=>{try{let r=await (0,o.FQ)(e);t(r)}catch(e){i("Hubo un problema al cargar los datos del usuario.")}finally{c(!1)}})()},[u]),r)return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen text-gray-700",children:"Cargando datos del usuario..."});if(l)return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen text-red-500",children:l});let{user:d,data:h}=e;return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold text-center text-white mb-8",children:["Dashboard de ",d.username]}),(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 mb-8 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Informaci\xf3n del Usuario"}),(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Nombre:"})," ",d.names," ",d.lastnames]}),(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Email:"})," ",d.email]}),(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Tel\xe9fono:"})," ",d.phone_number]}),(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Edad:"})," ",d.age]}),(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Cumplea\xf1os:"})," ",new Date(d.birthday).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Tus Juegos y Logros"}),h.games.map(e=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.game_name}),(0,a.jsx)("ul",{className:"ml-4 list-disc",children:e.achievements.map(e=>(0,a.jsxs)("li",{className:"text-gray-700",children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Logro:"})," ",e.achievement_name," ",(0,a.jsxs)("span",{className:"italic",children:["(",e.rarity,")"]})]},e.achievement_id))}),(0,a.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,a.jsx)("button",{className:"bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600",onClick:()=>u.push("/game/".concat(e.game_id)),children:"Obtener m\xe1s logros"}),(0,a.jsx)("button",{className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",onClick:()=>u.push("/game/".concat(e.game_id,"/details")),children:"Informaci\xf3n del juego"})]})]},e.game_id))]})]})}},5864:function(e,t,r){"use strict";r.d(t,{C$:function(){return u},F:function(){return l},FQ:function(){return i},So:function(){return n},a$:function(){return s},kT:function(){return o},tq:function(){return c}});let a="http://balacner-1065788816.us-east-1.elb.amazonaws.com:8000",s=async e=>{try{let t=await fetch("".concat(a,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error al registrar el usuario");return await t.json()}catch(e){throw console.error(e),e}},n=async e=>{try{let t=await fetch("".concat(a,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error en la autenticaci\xf3n");return await t.json()}catch(e){throw console.error(e),e}},o=async()=>{try{let e=await fetch("".concat(a,"/games")),t=await e.json();if(!e.ok)throw Error("Error al obtener los juegos");return t.games}catch(e){throw console.error(e),e}},c=async e=>{try{let t=await fetch("".concat(a,"/games/").concat(e)),r=await t.json();if(!t.ok)throw Error("Error al obtener los detalles del juego");return r.games}catch(e){throw console.error(e),e}},l=async(e,t)=>{try{let r=await fetch("".concat(a,"/assign"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,achievementId:t})});if(!r.ok)throw Error("Error al asignar el logro");return await r.json()}catch(e){throw console.error(e),e}},i=async e=>{try{let t=await fetch("".concat(a,"/user/").concat(e)),r=await t.json();if(!t.ok||!r.success)throw Error("Error al obtener los datos del usuario");return r}catch(e){throw console.error(e),e}},u=async e=>{try{let t=await fetch("".concat(a,"/game/").concat(e)),r=await t.json();if(!t.ok)throw Error("Error al obtener los detalles del juego");return r}catch(e){throw console.error(e),e}}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6461)}),_N_E=e.O()}]);